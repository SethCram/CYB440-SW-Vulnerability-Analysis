#include <stdlib.h>
#include <string.h>
#include <stdio.h>

int main(int argc, char *argv[  ]) {
    int ch;
   char *ptr;
   size_t buffer_size = 10;
   char *buffer = malloc(buffer_size);
   ssize_t data_size;
	/* does getline() alloc more space to buffer? */
   if ((data_size = getline(&buffer, &buffer_size, stdin)) == -1) {
     /* handle error */
     printf("Error \n");
   } else {
     ptr = strchr(buffer, 'n');
     if (ptr) {
       printf("%d\n", ptr);
       *ptr = '\0';
       printf("%s\n", buffer);
       printf("%s\n", ptr);
     } else {
        printf("Flush std input \n");
      /* newline not found, flush stdin to end of line */
       while (((ch = getchar()) != '\n') && !feof(stdin) && !ferror(stdin));
     }
   }

   /* more code here ... */
   free(buffer);

   printf("Freed the buffer\n");
}